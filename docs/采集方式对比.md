# 采集方式对比指南

## 两种采集方式

系统提供两种灵活的采集方式，满足不同的使用场景。

### 🎯 单个药品采集

**适用场景**：
- ✅ 查询特定药品的价格
- ✅ 对比某个具体药品的供应商
- ✅ 快速获取单个药品的完整价格信息

**特点**：
- 采集对象：1个具体药品
- 采集内容：该药品的所有供应商价格
- 耗时：10-30秒
- 数据完整性：单个药品完整

**三种模式**：
1. **⚡ 快速模式**：API获取热销价格（1-3秒）
2. **📊 完整模式**：获取所有供应商价格（10-30秒）
3. **🧠 智能模式**：自动选择最优方案（推荐）

### 📦 批量采集

**适用场景**：
- ✅ 建立某个品类的完整数据库
- ✅ 采集所有品牌/规格的药品
- ✅ 定期更新多个药品的价格

**特点**：
- 采集对象：多个不同药品
- 采集内容：每个药品的所有供应商价格
- 耗时：(药品数 × 15秒)
- 数据完整性：整个品类完整

**参数设置**：
- 最多采集药品数：建议10-20个
- 每个药品最多采集供应商数：建议50个

## 详细对比

| 对比项 | 单个药品采集 | 批量采集 |
|-------|------------|---------|
| **采集对象** | 1个具体药品 | 多个不同药品 |
| **采集内容** | 该药品的所有供应商价格 | 每个药品的所有供应商价格 |
| **耗时** | 10-30秒 | 2-5分钟（10个药品） |
| **数据完整性** | 单个药品完整 | 整个品类完整 |
| **适用场景** | 查询特定药品 | 建立品类数据库 |
| **操作复杂度** | 简单 | 中等 |
| **资源占用** | 低 | 中等 |

## 使用示例

### 示例1：查询天麻蜜环菌片（福建汇天）的价格

**需求**：想知道"福建汇天 天麻蜜环菌片"这个具体药品的所有供应商价格

**选择**：🎯 单个药品采集

**操作**：
1. 选择"单个药品"
2. 输入"天麻蜜环菌片"
3. 选择"智能模式"
4. 点击"开始采集"

**结果**：
- 耗时：约15秒
- 找到：59个供应商
- 价格范围：¥1.51 - ¥4.26

### 示例2：建立天麻蜜环菌片品类数据库

**需求**：想要获取所有品牌/规格的天麻蜜环菌片数据

**选择**：📦 批量采集

**操作**：
1. 选择"批量采集"
2. 输入"天麻蜜环菌片"
3. 设置采集10个药品
4. 点击"开始批量采集"

**结果**：
- 耗时：约2.5分钟
- 采集：10个不同品牌/规格的药品
- 找到：520个供应商价格
- 保存：450条新记录

## 如何选择？

### 选择单个药品采集，如果：
- ✅ 你知道具体要查询哪个药品
- ✅ 只需要一个药品的价格信息
- ✅ 需要快速获取结果
- ✅ 对比某个具体药品的供应商

**例如**：
- "我想知道福建汇天的天麻蜜环菌片多少钱"
- "查一下阿莫西林胶囊的价格"
- "对比一下布洛芬的供应商"

### 选择批量采集，如果：
- ✅ 想要建立某个品类的完整数据库
- ✅ 需要采集所有品牌/规格的药品
- ✅ 定期更新多个药品的价格
- ✅ 不确定具体要哪个品牌

**例如**：
- "我想要所有天麻蜜环菌片的数据"
- "采集所有感冒药的价格"
- "建立抗生素品类的价格数据库"

## 实际应用场景

### 场景1：日常价格查询

**需求**：药店采购员想查询某个药品的价格

**方案**：单个药品采集 + 智能模式
- 快速获取结果
- 数据完整
- 操作简单

### 场景2：品类价格分析

**需求**：分析某个品类的价格分布和供应商情况

**方案**：批量采集
- 获取所有品牌/规格
- 建立完整数据库
- 支持深度分析

### 场景3：定期价格监控

**需求**：每天监控重点药品的价格变化

**方案**：
- 重点药品：单个药品采集（快速）
- 品类监控：批量采集（完整）

### 场景4：采购决策支持

**需求**：为重要采购决策提供数据支持

**方案**：
1. 先用批量采集获取所有选项
2. 再用单个药品采集深入分析重点药品
3. 结合两种方式做出最优决策

## 最佳实践

### 1. 组合使用

```
第一步：批量采集
- 搜索"天麻蜜环菌片"
- 采集10个药品
- 了解市场全貌

第二步：单个药品采集
- 针对价格最优的2-3个药品
- 深入分析供应商
- 做出采购决策
```

### 2. 分时段使用

```
日常查询：单个药品采集
- 快速响应
- 满足日常需求

定期更新：批量采集
- 每周或每月
- 更新品类数据库
- 保持数据新鲜
```

### 3. 按重要性使用

```
重要药品：单个药品采集 + 完整模式
- 获取最完整的数据
- 支持重要决策

普通药品：单个药品采集 + 快速模式
- 快速获取参考价格
- 提高效率
```

## 性能对比

### 单个药品采集

| 模式 | 耗时 | 数据量 | 适用场景 |
|------|------|--------|---------|
| 快速模式 | 1-3秒 | 1-10个供应商 | 日常查询 |
| 完整模式 | 10-30秒 | 50-100个供应商 | 重要决策 |
| 智能模式 | 2-30秒 | 自动优化 | 推荐使用 |

### 批量采集

| 药品数 | 耗时 | 数据量 | 适用场景 |
|-------|------|--------|---------|
| 5个 | 1-2分钟 | 200-300个供应商 | 快速测试 |
| 10个 | 2-3分钟 | 400-600个供应商 | 推荐 |
| 20个 | 5-6分钟 | 800-1200个供应商 | 完整采集 |
| 50个 | 12-15分钟 | 2000-3000个供应商 | 最大值 |

## 常见问题

### Q1: 什么时候用单个药品采集？

**答**：当你知道具体要查询哪个药品时。比如：
- "查询福建汇天的天麻蜜环菌片"
- "对比阿莫西林胶囊的供应商"

### Q2: 什么时候用批量采集？

**答**：当你想要某个品类的所有药品时。比如：
- "采集所有天麻蜜环菌片"
- "建立感冒药价格数据库"

### Q3: 可以同时使用两种方式吗？

**答**：可以！推荐组合使用：
1. 先用批量采集了解市场全貌
2. 再用单个药品采集深入分析重点药品

### Q4: 批量采集会重复采集吗？

**答**：不会。系统会自动去重：
- 已存在的价格不会重复保存
- 只保存新增的价格记录

### Q5: 哪种方式更快？

**答**：
- 单个药品：10-30秒
- 批量采集：2-5分钟（10个药品）
- 如果只需要1个药品，单个采集更快
- 如果需要多个药品，批量采集更高效

## 总结

两种采集方式各有优势，灵活选择：

**单个药品采集**：
- ✅ 快速、简单、精准
- ✅ 适合日常查询
- ✅ 支持三种模式

**批量采集**：
- ✅ 完整、全面、高效
- ✅ 适合建立数据库
- ✅ 一次采集多个药品

**推荐策略**：
- 日常使用：单个药品采集
- 定期更新：批量采集
- 重要决策：组合使用

根据实际需求灵活选择，让数据采集更高效！

---

*医药价格发现系统 © 2025*
